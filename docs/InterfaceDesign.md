# Schema 界面原型布局设计说明

> 版本：v1.0  
> 更新日期：2025-12-23  
> 文档类型：UI 原型设计规范

---

## 一、设计概述

### 1.1 设计目标

本文档为 Schema（个人知识管理系统）的界面原型布局设计说明，旨在定义产品的整体视觉结构、页面布局、交互模式与核心组件规范。

设计原则：
- **简洁专注**：去除协作相关的复杂界面元素，聚焦个人使用体验
- **结构清晰**：通过合理的布局帮助用户理解知识层级关系
- **低干扰创作**：编辑界面最大化内容区域，减少视觉噪音
- **一致性**：保持全局交互模式与视觉语言的统一

### 1.2 设计规范

| 属性 | 规范值 |
|------|--------|
| 最小支持宽度 | 1280px |
| 推荐显示宽度 | 1440px - 1920px |
| 侧边栏宽度 | 260px（可折叠） |
| 内容区最大宽度 | 900px |
| 基础字号 | 14px |
| 标题字号 | 16px / 20px / 24px / 32px |
| 主色调 | #1A73E8（蓝色系） |
| 圆角半径 | 4px / 8px |

---

## 二、整体布局架构

### 2.1 全局布局结构

系统采用经典的三栏式布局，适配知识管理场景的浏览与编辑需求。

```
+--------------------------------------------------------------------+
|                         Top Navigation Bar                         |
|  [Logo] [Search Box........................] [User] [Settings]     |
+-----------+--------------------------------------------------------+
|           |                                                        |
|  Sidebar  |                    Main Content Area                   |
|           |                                                        |
| +-------+ |  +--------------------------------------------------+  |
| |Library| |  |                                                  |  |
| +-------+ |  |                  Page Content                    |  |
|           |  |                                                  |  |
|           |  |                                                  |  |
| +------+  |  |                                                  |  |
| | Page |  |  |                                                  |  |
| | Tree |  |  |                                                  |  |
| +------+  |  |                                                  |  |
|           |  +--------------------------------------------------+  |
|           |                                                        |
+-----------+--------------------------------------------------------+
```

### 2.2 布局区域说明

| 区域 | 功能描述 | 尺寸规范 |
|------|----------|----------|
| 顶部导航栏 | 全局搜索、用户信息、系统设置入口 | 高度 56px，固定定位 |
| 侧边栏 | 知识库、页面树形结构 | 宽度 260px，可折叠至 48px |
| 主内容区 | 页面内容展示与编辑 | 自适应宽度，内容居中 |

---

## 三、顶部导航栏设计

### 3.1 布局结构

```
+------------------------------------------------------------------------+
| [=] | [Schema Logo]  |  [    Global Search Input    ] | [?] [O] [=]   |
+------------------------------------------------------------------------+
  ^         ^                        ^                      ^   ^   ^
  |         |                        |                      |   |   |
Toggle    Brand                  Search Box               Help User Settings
```

### 3.2 元素说明

| 元素 | 功能 | 交互行为 |
|------|------|----------|
| 侧边栏切换 | 展开/折叠侧边栏 | 点击切换状态 |
| 品牌标识 | 返回首页/工作台 | 点击跳转 |
| 全局搜索 | 全文搜索入口 | 点击展开搜索面板，支持快捷键 Ctrl+K |
| 帮助入口 | 文档与快捷键说明 | 点击打开帮助面板 |
| 用户头像 | 账户设置与登出 | 点击展开下拉菜单 |
| 系统设置 | 偏好设置入口 | 点击打开设置面板 |

### 3.3 搜索面板展开态

```
+------------------------------------------------------------------------+
|                                                                        |
|  +------------------------------------------------------------------+  |
|  | [Icon] Search pages, tags, content...                            |  |
|  +------------------------------------------------------------------+  |
|                                                                        |
|  Recent Searches                                    Filters            |
|  +--------------------------------+            +------------------+    |
|  | - React Hooks notes            |            | Library: [All v] |    |
|  | - Project review 2024          |            | Tags:    [All v] |    |
|  | - Learning plan                |            | Time:    [All v] |    |
|  +--------------------------------+            +------------------+    |
|                                                                        |
|  Search Results                                                        |
|  +------------------------------------------------------------------+  |
|  | [Page] React Hooks Best Practice                                 |  |
|  |        Tech Library > Frontend > React                           |  |
|  +------------------------------------------------------------------+  |
|  | [Page] Project Alpha Review                                      |  |
|  |        Work Library > Projects > 2024                            |  |
|  +------------------------------------------------------------------+  |
|                                                                        |
+------------------------------------------------------------------------+
```

---

## 四、侧边栏设计

### 4.1 完整展开态

```
+---------------------------+
|     Library               |
| +------------------------+|
| | Tech Learning          ||
| +------------------------+|
+---------------------------+
|     Page Tree             |
| +------------------------+|
| | v React Basics         ||
| |   - Hooks Introduction ||
| |   - State Management   ||
| |   - Component Pattern  ||
| | > Vue Framework        ||
| | > TypeScript Notes     ||
| | + New Page             ||
| +------------------------+|
+---------------------------+
```

### 4.2 折叠态

```
+------+
| [=]  |  <- Expand Toggle
+------+
| [L]  |  <- Library
+------+
| [T]  |  <- Page Tree
+------+
| [+]  |  <- New Page
+------+
|      |
|      |
+------+
```

---

## 五、主内容区设计

### 5.1 页面布局

```
+------------------------------------------------------------------------+
|  Breadcrumb: Tech Learning > Frontend > React         [i] [h] [t] [p]  |
+------------------------------------------------------------------------+
|                                                                        |
|  +------------------------------------------------------------------+  |
|  |                                                                  |  |
|  |  [icon] React Hooks Best Practice                                |  |
|  |                                                                  |  |
|  |  Tags: [React x] [Frontend x] [Best Practice x] [+]              |  |
|  |  Updated: 2024-12-20  |  Created: 2024-11-15                     |  |
|  |                                                                  |  |
|  |  ---------------------------------------------------------       |  |
|  |                                                                  |  |
|  |  ## Table of Contents                                            |  |
|  |  +-----------------------------+                                 |  |
|  |  | 1. Introduction             |                                 |  |
|  |  | 2. useState Deep Dive       |                                 |  |
|  |  | 3. useEffect Patterns       |                                 |  |
|  |  | 4. Custom Hooks             |                                 |  |
|  |  +-----------------------------+                                 |  |
|  |                                                                  |  |
|  |  ## 1. Introduction                                              |  |
|  |                                                                  |  |
|  |  React Hooks are functions that let you use state and other      |  |
|  |  React features without writing a class...                       |  |
|  |                                                                  |  |
|  |  > Note: This content references [[React Official Docs]]         |  |
|  |                                                                  |  |
|  |  ## 2. useState Deep Dive                                        |  |
|  |                                                                  |  |
|  |  ```javascript                                                   |  |
|  |  const [count, setCount] = useState(0);                          |  |
|  |  ```                                                             |  |
|  |                                                                  |  |
|  +------------------------------------------------------------------+  |
|                                                                        |
+------------------------------------------------------------------------+
```

页面顶部：
 - 面包屑导航显示当前页面在知识库中的位置，支持点击跳转
 - 顶部右侧功能按钮：
   - [i] 页面信息面板
   - [h] 历史版本面板
   - [t] 任务汇总视图
   - [p] 公开访问页面设置
页面标题区：
 - 页面图标、标题、标签、创建与更新时间信息
    - 可以选择一个图标，支持emoji或其他内置图标
    - 标签支持快速添加与删除
内容区：
 - 内容区为所见即所得编辑器，根据输入内容自动渲染为相应格式
 - 以 Markdown 语法为基础，选中文本后显示文字选中工具栏
 - 支持通过“/”命令快速插入组件与模板

### 5.2 文字选中悬浮工具栏

```
+------------------------------------------------------------------------+
| [B] [I] [U] [S] | [H1] [H2] [H3] | ["] [<>] | [-] [1.] | [+] [=] [!]   |
+------------------------------------------------------------------------+
| Text Selection Toolbar (appears on text selection) |
```


### 5.3 组件插入面板（/ 命令）

```
+--------------------------------+
|  Insert Component              |
+--------------------------------+
|  [Search components...]        |
+--------------------------------+
|  Basic                         |
|  +---------------------------+ |
|  | [H]  Heading              | |
|  | ["]  Quote Block          | |
|  | [<>] Code Block           | |
|  | [-]  Bullet List          | |
|  | [1.] Numbered List        | |
|  +---------------------------+ |
|  Advanced                      |
|  +---------------------------+ |
|  | [=]  Table                | |
|  | [!]  Callout / Alert      | |
|  | [v]  Task Item            | |
|  | [@]  Page Reference       | |
|  | [#]  Status Badge         | |
|  | [i]  Info Panel           | |
|  +---------------------------+ |
|  Templates                     |
|  +---------------------------+ |
|  | [T]  Meeting Notes        | |
|  | [T]  Tech Research        | |
|  | [T]  Book Notes           | |
|  +---------------------------+ |
+--------------------------------+
```

---

## 六、页面顶部右侧功能按钮

### 6.1 [i] 页面信息面板

```
+----------------------------------+
|  Page Information          [X]   |
+----------------------------------+
|                                  |
|  Properties                      |
|  +------------------------------+|
|  | Status:  [Draft v]           ||
|  | Library: Tech Learning       ||
|  | Parent:  Frontend > React    ||
|  | Created: 2024-11-15 10:30    ||
|  | Updated: 2024-12-20 14:22    ||
|  +------------------------------+|
|                                  |
|  Tags                            |
|  [React x] [Frontend x] [+ Add]  |
|                                  |
|  References                      |
|  +------------------------------+|
|  | Outgoing (2)                 ||
|  | - React Official Docs        ||
|  | - Component Patterns         ||
|  +------------------------------+|
|  | Incoming (3)                 ||
|  | - React Project Setup        ||
|  | - Frontend Learning Path     ||
|  | - 2024 Tech Summary          ||
|  +------------------------------+|
|                                  |
|  Actions                         |
|  +------------------------------+|
|  | [Copy Link]                  ||
|  | [Export as Markdown]         ||
|  | [View History]               ||
|  | [Move to...]                 ||
|  | [Delete Page]                ||
|  +------------------------------+|
|                                  |
+----------------------------------+
```

### 6.2 [h] 版本控制面板

```
+----------------------------------+
|  Version History           [X]   |
+----------------------------------+
|                                  |
|  Current Version                 |
|  +------------------------------+|
|  | 2024-12-20 14:22             ||
|  | "Added custom hooks section" ||
|  +------------------------------+|
|  | Enter message to create new  ||
|  | version:                     ||
|  |                              ||
|  +------------------------------+|
|                 [Create Version] |
|                                  |
|  Previous Versions               |
|  +------------------------------+|
|  | 2024-12-18 09:15             ||
|  | 2024-12-15 16:30             ||
|  | 2024-12-10 11:20             ||
|  | 2024-12-05 14:45             ||
|  | ...                          ||
|  +------------------------------+|
|                                  |
|  [Compare Selected] [Restore]    |
|                                  |
+----------------------------------+
```

### 6.3 [t] 任务汇总视图

```
+------------------------------------------------------------------------+
|  My Tasks                                              [Filter v]      |
+------------------------------------------------------------------------+
|                                                                        |
|  Today                                                                 |
|  +------------------------------------------------------------------+  |
|  | [ ] Review React Hooks documentation                             |  |
|  |     From: React Hooks Best Practice                              |  |
|  +------------------------------------------------------------------+  |
|  | [ ] Update project timeline                                      |  |
|  |     From: Q4 Project Planning                                    |  |
|  +------------------------------------------------------------------+  |
|                                                                        |
|  This Week                                                             |
|  +------------------------------------------------------------------+  |
|  | [ ] Complete TypeScript migration notes                          |  |
|  |     From: TypeScript Learning Path                               |  |
|  +------------------------------------------------------------------+  |
|  | [x] Write weekly summary                                         |  |
|  |     From: Weekly Review 2024-W51                                 |  |
|  +------------------------------------------------------------------+  |
|                                                                        |
|  Older                                                                 |
|  +------------------------------------------------------------------+  |
|  | [ ] Organize book notes                                          |  |
|  |     From: Reading List 2024                                      |  |
|  +------------------------------------------------------------------+  |
|                                                                        |
+------------------------------------------------------------------------+
```

### 6.4 [p] 公开访问页面设置

```
+----------------------------------+
|  Public Access Settings     [X]  |
+----------------------------------+
|                                  |
|  Current Status: [ Public v ]    |
|                                  |
|  [Toggle Public/Private]         |
|                                  |
|  Public Link:                    |
|  https://schema.app/public/abc123|
|  [Copy Link]                     |
|                                  |
|  Note:                           |
|  - Public pages are read-only.   |
|  - No external edits allowed.    |
|                                  |
+----------------------------------+
```


---

## 七、特殊页面设计

### 7.1 工作台/首页

```
+------------------------------------------------------------------------+
|                                                                        |
|  Good Morning, User                                 2024-12-23         |
|                                                                        |
+------------------------------------------------------------------------+
|  +-----------------------------+  +----------------------------------+ |
|  |  Knowledge Libraries        |  |  Quick Actions                   | |
|  |  +------------------------+ |  |  +-----------------------------+ | |
|  |  | Tech Learning          | |  |  | [+] New Library             | | |
|  |  | 12 pages               | |  |  | [S] Search                  | | |
|  |  | Last: 2024-12-20       | |  |  | [T] Today's Tasks           | | |
|  |  +------------------------+ |  |  +-----------------------------+ | |
|  |  | Work Library           | |  |                                  | |
|  |  | 8 pages                | |  |  +-----------------------------+ | |
|  |  | Last: 2024-12-18       | |  |  |  Recent Pages               | | |
|  |  +------------------------+ |  |  +-----------------------------+ | |
|  |  | Personal Notes         | |  |  | React Hooks Best...         | | |
|  |  | 5 pages                | |  |  | 10 min ago                  | | |
|  |  | Last: 2024-12-15       | |  |  +-----------------------------+ | |
|  |  +------------------------+ |  |  | Project Alpha Review        | | |
|  |  | Reading List           | |  |  | 2 hours ago                 | | |
|  |  | 3 pages                | |  |  +-----------------------------+ | |
|  |  | Last: 2024-12-05       | |  |  | Weekly Summary W51          | | |
|  |  +------------------------+ |  |  | Yesterday                   | | |
|  |  | [+ New Library]        | |  |  +-----------------------------+ | |
|  +-----------------------------+  |                                  | |
|                                   |  +-----------------------------+ | |
|                                   |  |  Pending Tasks (3)          | | |
|                                   |  +-----------------------------+ | |
|                                   |  | [ ] Review React docs       | | |
|                                   |  | [ ] Update timeline         | | |
|                                   |  | [ ] Organize notes          | | |
|                                   |  +-----------------------------+ | |
|                                   |                                  | |
|                                   |  +-----------------------------+ | |
|                                   |  |  On This Day (Dec 23)       | | |
|                                   |  +-----------------------------+ | |
|                                   |  | 2023: Year End Review       | | |
|                                   |  | 2022: Project Beta          | | |
|                                   |  +-----------------------------+ | |
|                                   |                                  | |
|                                   |  +-----------------------------+ | |
|                                   |  |  Long Unvisited (30+ days)  | | |
|                                   |  +-----------------------------+ | |
|                                   |  | API Design Principles       | | |
|                                   |  | Database Optimization       | | |
|                                   |  +-----------------------------+ | |
|                                   +----------------------------------+ |
|                                                                        |
+------------------------------------------------------------------------+
```

### 7.3 公开访问页面

```
+------------------------------------------------------------------------+
|  [Schema Logo]                                                         |
+------------------------------------------------------------------------+
|                                                                        |
|  +------------------------------------------------------------------+  |
|  |                                                                  |  |
|  |  # React Hooks Best Practice                                     |  |
|  |                                                                  |  |
|  |  Published by User  |  Last updated: 2024-12-20                  |  |
|  |                                                                  |  |
|  |  Tags: [React] [Frontend] [Best Practice]                        |  |
|  |                                                                  |  |
|  |  ---------------------------------------------------------       |  |
|  |                                                                  |  |
|  |  ## Table of Contents                                            |  |
|  |  ...                                                             |  |
|  |                                                                  |  |
|  |  ## 1. Introduction                                              |  |
|  |  ...                                                             |  |
|  |                                                                  |  |
|  +------------------------------------------------------------------+  |
|                                                                        |
+------------------------------------------------------------------------+
|  Powered by Schema  |  This page is publicly shared                    |
+------------------------------------------------------------------------+
```

---

## 八、响应式适配策略

### 8.1 断点定义

| 断点名称 | 宽度范围 | 布局策略 |
|----------|----------|----------|
| Desktop Large | ≥1440px | 完整三栏布局 |
| Desktop | 1280px - 1439px | 标准三栏布局 |
| Tablet | 768px - 1279px | 侧边栏可折叠/覆盖 |
| Mobile | <768px | 单栏布局，底部导航 |

### 8.2 平板适配（768px - 1279px）

```
+------------------------------------------------------------------+
|  [=] [Schema Logo]  [Search]                    [User] [Settings]|
+------------------------------------------------------------------+
|                                                                  |
|  +-------------------------------------------------------------+ |
|  |                                                             | |
|  |                     Main Content Area                       | |
|  |                                                             | |
|  |                    (Full Width Content)                     | |
|  |                                                             | |
|  +-------------------------------------------------------------+ |
|                                                                  |
+------------------------------------------------------------------+
|  [Home]    [Libraries]    [Search]    [Tasks]    [More]          |
+------------------------------------------------------------------+
```

---

## 九、组件规范

### 9.1 状态标识组件

```
+-------------------+  +-------------------+  +-------------------+
| [*] In Progress   |  | [v] Completed     |  | [!] Blocked       |
+-------------------+  +-------------------+  +-------------------+
    Blue/Primary           Green/Success          Red/Warning

+-------------------+  +-------------------+
| [?] Draft         |  | [-] Archived      |
+-------------------+  +-------------------+
    Gray/Neutral          Gray/Muted
```

### 9.2 引用组件

```
+------------------------------------------------------------------+
|  [@] Referenced Page                                              |
|  +--------------------------------------------------------------+|
|  |  [Icon] React Official Documentation                         ||
|  |  Tech Learning > Frontend > React                            ||
|  +--------------------------------------------------------------+|
+------------------------------------------------------------------+
```

### 9.3 任务组件

```
+------------------------------------------------------------------+
|  [ ] Task description goes here                    [Due: Dec 25] |
+------------------------------------------------------------------+

+------------------------------------------------------------------+
|  [x] Completed task with strikethrough             [Done]        |
+------------------------------------------------------------------+
```

### 9.4 信息面板组件

```
+------------------------------------------------------------------+
|  [i] Info                                                        |
|  +--------------------------------------------------------------+|
|  |  This is an informational note that provides additional      ||
|  |  context or tips related to the content.                     ||
|  +--------------------------------------------------------------+|
+------------------------------------------------------------------+

+------------------------------------------------------------------+
|  [!] Warning                                                     |
|  +--------------------------------------------------------------+|
|  |  This is a warning message that highlights important         ||
|  |  considerations or potential issues.                         ||
|  +--------------------------------------------------------------+|
+------------------------------------------------------------------+
```

---

## 十、交互规范

### 10.1 快捷键体系

| 快捷键 | 功能 |
|--------|------|
| Ctrl + K | 打开全局搜索 |
| Ctrl + N | 新建页面 |
| Ctrl + S | 保存当前页面 |
| Ctrl + E | 切换编辑/阅读模式 |
| Ctrl + / | 打开命令面板 |
| Ctrl + [ | 返回上一页 |
| Ctrl + ] | 前进下一页 |
| Ctrl + B | 切换侧边栏 |
| Ctrl + Shift + F | 全库搜索 |

### 10.2 拖拽交互

- 侧边栏页面树支持拖拽排序与层级调整
- 页面内容块支持拖拽重新排列
- 标签支持拖拽至页面进行快速添加

### 10.3 悬停与焦点状态

- 可交互元素悬停时显示轻微背景变化（opacity: 0.08）
- 焦点状态使用主题色边框指示（2px solid primary）
- 下拉菜单项悬停高亮当前选项

---

## 十一、主题与视觉风格

### 11.1 配色方案

**浅色主题（默认）**

| 用途 | 色值 |
|------|------|
| 背景色 | #FFFFFF |
| 次级背景 | #F5F7FA |
| 边框色 | #E4E7ED |
| 主文字色 | #1F2937 |
| 次级文字 | #6B7280 |
| 主题色 | #1A73E8 |
| 成功色 | #34A853 |
| 警告色 | #FBBC04 |
| 错误色 | #EA4335 |

**深色主题**

| 用途 | 色值 |
|------|------|
| 背景色 | #1E1E1E |
| 次级背景 | #252526 |
| 边框色 | #3C3C3C |
| 主文字色 | #E4E4E4 |
| 次级文字 | #9CA3AF |
| 主题色 | #4DA3FF |

### 11.2 字体规范

```
Font Family: 
  - Primary: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif
  - Monospace: "JetBrains Mono", "Fira Code", monospace
  - Chinese: "PingFang SC", "Microsoft YaHei", sans-serif

Font Weights:
  - Regular: 400
  - Medium: 500
  - Semibold: 600
  - Bold: 700
```

---

## 十二、空状态与引导

### 12.1 空知识库状态

```
+------------------------------------------------------------------+
|                                                                   |
|                         [Illustration]                            |
|                                                                   |
|                    Your Library is Empty                          |
|                                                                   |
|           Start building your knowledge base by creating          |
|                      your first page.                             |
|                                                                   |
|                   [+ Create First Page]                           |
|                                                                   |
|              Or import from: [Markdown] [Notion]                  |
|                                                                   |
+------------------------------------------------------------------+
```

### 12.2 搜索无结果状态

```
+------------------------------------------------------------------+
|                                                                   |
|                         [Illustration]                            |
|                                                                   |
|                    No Results Found                               |
|                                                                   |
|           We couldn't find any pages matching                     |
|                   "your search term"                              |
|                                                                   |
|                     Try different keywords                        |
|                   or check your filters                           |
|                                                                   |
+------------------------------------------------------------------+
```

---

## 附录 A：图标规范

系统图标采用线性图标风格，笔画宽度 1.5px，尺寸规范如下：

| 使用场景 | 图标尺寸 |
|----------|----------|
| 导航图标 | 20px × 20px |
| 工具栏图标 | 16px × 16px |
| 列表图标 | 14px × 14px |
| 内联图标 | 12px × 12px |

## 附录 B：动效规范

| 动效类型 | 时长 | 缓动函数 |
|----------|------|----------|
| 悬停反馈 | 150ms | ease-out |
| 面板展开 | 200ms | ease-in-out |
| 页面切换 | 300ms | ease-in-out |
| 模态框出现 | 250ms | ease-out |

---

*本文档为界面原型设计规范，具体实现细节可根据开发进度进行调整。*
